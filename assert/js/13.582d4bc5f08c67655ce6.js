webpackJsonp([13],{Kr6d:function(t,e,a){"use strict";e.a={data:function(){return{questions:null,currentpage:1,total:-1,categoryList:null,dialogVisible:!1,tttt:[],tempForm:{question:"",type:-1,ans1:"",ans2:"",ans3:"",ans4:"",state:"",res:[],cid:""},rules:{question:[{required:!0,message:"请输入题干",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"}],cid:[{required:!0,message:"请选择题目分类",trigger:"blur"}],res:[{required:!0,message:"请输入正确答案",trigger:"blur"}]},advencd_state:[],exam_state:["上线","下线","待审核"],show:!1,advencd_search_state:null,importDialogVisible:!1,url:"http://118.25.209.141:8081",fileList:[],delExamDialog:!1}},created:function(){this.getShiTiList(),this.getExamCategory()},methods:{deleteExamination:function(t){var e=this,a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteRequest("/examination/"+t.id).then(function(t){200===t.status?(e.$message({type:"success",message:"删除成功!"}),a.getShiTiList()):e.$message({type:"success",message:"删除失败!"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},uploadSuccess:function(t){this.$notify({title:"通知",message:t.data}),this.getShiTiList()},uploadError:function(t){this.$notify({title:"通知",message:"导入失败,请联系管理员"})},submitUpload:function(){this.$refs.upload.submit(),this.importDialogVisible=!1},box_change:function(){this.currentpage=1},getExcelTemplate:function(){window.open(this.url+"/examination/excelTemplate","_blank")},advence_box_search:function(){this.show=!this.show,this.advencd_search_state=null,this.advencd_state=[],this.show||this.getShiTiList()},adv_search:function(){switch(this.advencd_state[0]){case"上线":this.advencd_search_state=1;break;case"待审核":this.advencd_search_state=0;break;case"下线":this.advencd_search_state=2}this.getShiTiList()},filterTag:function(t,e){return e.state===t},updateShiTi:function(t){var e=this,a=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;a.tempForm.res=e.tempForm.res.join(","),a.postRequest("/examination/update",a.tempForm).then(function(t){console.log(t),200===t.data.status&&a.$message({showClose:!0,message:" 更新成功",type:"success"}),a.dialogVisible=!1,a.getShiTiList()})})},handClose:function(t){this.tempForm.res=this.tempForm.res.join(","),t()},getExamCategory:function(){var t=this;this.getRequest("/exam-category/all").then(function(e){t.categoryList=e.data.data})},getShiTiList:function(){var t=this,e="/examination/list?pageNum="+t.currentpage;null!==this.advencd_search_state&&(e+="&state="+t.advencd_search_state),this.getRequest(e).then(function(e){t.currentpage=e.data.data.current,t.total=e.data.data.total,t.questions=e.data.data.records})},showDialog:function(t){this.dialogVisible=!0,console.log(t),this.tempForm=t,this.tempForm.res=t.res.split(",")},formatExamType:function(t){return 0===t?"单选":1===t?"判断":"多选"},formatExamState:function(t){return 0===t?"待审核":1===t?"上线":"下线"},changedPage:function(t){this.currentpage=t,this.getShiTiList()}}}},P5IU:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("div",{attrs:{classs:"header"}},[t._v("所有试题")])]),t._v(" "),a("el-button",{attrs:{round:"",type:"primary"},on:{click:t.advence_box_search}},[t._v("高级检索")]),t._v(" "),a("el-button",{attrs:{round:"",type:"success"},on:{click:function(e){t.importDialogVisible=!t.importDialogVisible}}},[t._v("导入试题")]),t._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search_box"},[a("el-checkbox-group",{staticClass:"advence_checkbox",attrs:{max:1,min:0},model:{value:t.advencd_state,callback:function(e){t.advencd_state=e},expression:"advencd_state"}},[t._l(t.exam_state,function(e){return a("el-checkbox",{key:e.index,attrs:{label:e},on:{change:t.box_change}},[t._v(t._s(e))])}),t._v(" "),a("el-button",{staticClass:"advence_btn",attrs:{circle:"",icon:"el-icon-search",size:"small"},on:{click:t.adv_search}})],2)],1)]),t._v(" "),a("el-dialog",{staticClass:"import",attrs:{"close-on-click-modal":!1,"modal-append-to-body":!1,visible:t.importDialogVisible,title:"批量导入试题",width:"30%"},on:{"update:visible":function(e){t.importDialogVisible=e}}},[a("span",[t._v("操作步骤")]),t._v(" "),a("p",{staticClass:"tipsInfo"},[t._v("\n        1,下载《批量导入模板》\n        "),a("br"),t._v("2,打开下载表，将对应字段信息输入或粘贴进本表。为保障粘贴信息被有效导入，请使用纯文本或数字\n        "),a("br"),t._v("3、信息输入完毕，点击 “浏览” 按钮， 选择excel文档\n        "),a("br"),t._v("4、点击 “开始导入” ，导入中如有任何疑问，请联系 企划部\n      ")]),t._v(" "),a("a",{on:{click:t.getExcelTemplate}},[t._v("点击下载导入模板")]),t._v(" "),a("el-upload",{ref:"upload",staticClass:"myUpload upload-demo",attrs:{"auto-upload":!1,"file-list":t.fileList,"on-error":t.uploadError,"on-success":t.uploadSuccess,accept:".xls",action:"http://192.168.0.115:8081/examination/import"}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")])],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.importDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.questions,border:""}},[a("el-table-column",{attrs:{label:"题干",prop:"question",width:"400"}}),t._v(" "),a("el-table-column",{attrs:{label:"类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatExamType(e.row.type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"选项A",prop:"ans1",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"选项B",prop:"ans2",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"选项C",prop:"ans3",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"选项D",prop:"ans4",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"正确答案",prop:"res",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{"filter-method":t.filterTag,filters:[{text:"上线",value:1},{text:"待审核",value:0},{text:"下线",value:2}],label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:0===e.row.state?"info":1===e.row.state?"success":"danger","disable-transitions":""}},[t._v(t._s(t.formatExamState(e.row.state)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"类别",prop:"category"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.showDialog(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return t.deleteExamination(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{"before-close":t.handClose,dialogVisible:!1,visible:t.dialogVisible,"append-to-body":"",title:"试题详情",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"updateForm",attrs:{model:t.tempForm,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"题干",prop:"question"}},[a("el-input",{model:{value:t.tempForm.question,callback:function(e){t.$set(t.tempForm,"question",e)},expression:"tempForm.question"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type "}},[a("el-radio",{attrs:{label:0},model:{value:t.tempForm.type,callback:function(e){t.$set(t.tempForm,"type",e)},expression:"tempForm.type"}},[t._v("单选")]),t._v(" "),a("el-radio",{attrs:{label:1},model:{value:t.tempForm.type,callback:function(e){t.$set(t.tempForm,"type",e)},expression:"tempForm.type"}},[t._v("判断")]),t._v(" "),a("el-radio",{attrs:{label:2},model:{value:t.tempForm.type,callback:function(e){t.$set(t.tempForm,"type",e)},expression:"tempForm.type"}},[t._v("多选")])],1),t._v(" "),a("el-form-item",{attrs:{label:"选项A",prop:"ans1"}},[a("el-input",{model:{value:t.tempForm.ans1,callback:function(e){t.$set(t.tempForm,"ans1",e)},expression:"tempForm.ans1"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"选项B",prop:"ans2"}},[a("el-input",{model:{value:t.tempForm.ans2,callback:function(e){t.$set(t.tempForm,"ans2",e)},expression:"tempForm.ans2"}})],1),t._v(" "),a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:!(1===t.tempForm.type),expression:"!(tempForm.type===1)"}]},[a("el-form-item",{staticClass:"transition-box",attrs:{label:"选项C"}},[a("el-input",{model:{value:t.tempForm.ans3,callback:function(e){t.$set(t.tempForm,"ans3",e)},expression:"tempForm.ans3"}})],1),t._v(" "),a("el-form-item",{staticClass:"transition-box",attrs:{label:"选项D"}},[a("el-input",{model:{value:t.tempForm.ans4,callback:function(e){t.$set(t.tempForm,"ans4",e)},expression:"tempForm.ans4"}})],1)],1)]),t._v(" "),a("el-form-item",{attrs:{label:"正确答案",prop:"res"}},[a("el-checkbox-group",{attrs:{max:2===t.tempForm.type?4:1,min:0},model:{value:t.tempForm.res,callback:function(e){t.$set(t.tempForm,"res",e)},expression:"tempForm.res"}},[t._l(["A","B"],function(e){return a("el-checkbox",{key:e.index,attrs:{label:e}},[t._v("选项"+t._s(e))])}),t._v(" "),t._l(["C","D"],function(e){return a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:!(1===t.tempForm.type),expression:"!(tempForm.type===1)"}],key:e.index,attrs:{label:e}},[t._v("选项"+t._s(e))])})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-tooltip",{attrs:{content:"Switch value: "+t.tempForm.state,placement:"top"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":2,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.tempForm.state,callback:function(e){t.$set(t.tempForm,"state",e)},expression:"tempForm.state"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类别",prop:"cid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.tempForm.cid,callback:function(e){t.$set(t.tempForm,"cid",e)},expression:"tempForm.cid"}},t._l(t.categoryList,function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{value:t.tempForm.remark,disabled:""}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateShiTi("updateForm")}}},[t._v("确认更新")])],1)],1),t._v(" "),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":t.currentpage,total:t.total,background:"",layout:"prev, pager, next"},on:{"current-change":t.changedPage}})],1)],1)],1)},o=[],r={render:n,staticRenderFns:o};e.a=r},XkjG:function(t,e,a){var n=a("aj5/");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("ac2424cc",n,!0,{})},"aj5/":function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,"\n.header {\r\n  margin-bottom: 6px;\n}\n.page {\r\n  text-align: center;\n}\n.search_box {\r\n  height: 60px;\r\n  border: 1px solid rgb(32, 160, 255);\r\n  border-radius: 5px;\r\n  margin-bottom: 5px;\n}\n.advence_btn {\r\n  margin-top: 5px;\r\n  margin-left: 10px;\n}\n.advence_checkbox {\r\n  margin-top: 5px;\r\n  margin-left: 10px;\n}\n.import .tipsInfo {\r\n  margin-top: 5px;\r\n  font-size: 14px;\r\n  line-height: 30px;\n}\n.import span {\r\n  font-size: 18;\n}\n.import a {\r\n  display: inline-block;\r\n  margin-top: 10px;\r\n  cursor: pointer;\r\n  color: #3487e2;\n}\n.import a:link {\r\n  /* link选择器,选择未被访问的链接,并设置其样式 */\r\n  text-decoration: none;\n}\n.import a:visited {\r\n  /* 选择已访问的链接，并设置其样式： */\r\n  text-decoration: none;\n}\n.import a:hover {\r\n  /*  悬浮*/\r\n  text-decoration: underline;\r\n  color: #3487e2;\n}\n.import a:active {\r\n  /* 活动的链接, 当点击时按下去的时候 */\r\n  text-decoration: none;\n}\n.import .myUpload {\r\n  margin-top: 10px;\n}\r\n","",{version:3,sources:["C:/Users/14296/Desktop/qiantu_web/src/pages/examination/basic.vue"],names:[],mappings:";AACA;EACE,mBAAmB;CACpB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,aAAa;EACb,oCAAoC;EACpC,mBAAmB;EACnB,mBAAmB;CACpB;AACD;EACE,gBAAgB;EAChB,kBAAkB;CACnB;AACD;EACE,gBAAgB;EAChB,kBAAkB;CACnB;AACD;EACE,gBAAgB;EAChB,gBAAgB;EAChB,kBAAkB;CACnB;AACD;EACE,cAAc;CACf;AACD;EACE,sBAAsB;EACtB,iBAAiB;EACjB,gBAAgB;EAChB,eAAe;CAChB;AACD;EACE,8BAA8B;EAC9B,sBAAsB;CACvB;AACD;EACE,sBAAsB;EACtB,sBAAsB;CACvB;AACD;EACE,QAAQ;EACR,2BAA2B;EAC3B,eAAe;CAChB;AACD;EACE,uBAAuB;EACvB,sBAAsB;CACvB;AACD;EACE,iBAAiB;CAClB",file:"basic.vue",sourcesContent:["\n.header {\r\n  margin-bottom: 6px;\n}\n.page {\r\n  text-align: center;\n}\n.search_box {\r\n  height: 60px;\r\n  border: 1px solid rgb(32, 160, 255);\r\n  border-radius: 5px;\r\n  margin-bottom: 5px;\n}\n.advence_btn {\r\n  margin-top: 5px;\r\n  margin-left: 10px;\n}\n.advence_checkbox {\r\n  margin-top: 5px;\r\n  margin-left: 10px;\n}\n.import .tipsInfo {\r\n  margin-top: 5px;\r\n  font-size: 14px;\r\n  line-height: 30px;\n}\n.import span {\r\n  font-size: 18;\n}\n.import a {\r\n  display: inline-block;\r\n  margin-top: 10px;\r\n  cursor: pointer;\r\n  color: #3487e2;\n}\n.import a:link {\r\n  /* link选择器,选择未被访问的链接,并设置其样式 */\r\n  text-decoration: none;\n}\n.import a:visited {\r\n  /* 选择已访问的链接，并设置其样式： */\r\n  text-decoration: none;\n}\n.import a:hover {\r\n  /*  悬浮*/\r\n  text-decoration: underline;\r\n  color: #3487e2;\n}\n.import a:active {\r\n  /* 活动的链接, 当点击时按下去的时候 */\r\n  text-decoration: none;\n}\n.import .myUpload {\r\n  margin-top: 10px;\n}\r\n"],sourceRoot:""}])},ws8z:function(t,e,a){"use strict";function n(t){a("XkjG")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("Kr6d"),r=a("P5IU"),s=a("VU/8"),i=n,l=s(o.a,r.a,!1,i,null,null);e.default=l.exports}});
//# sourceMappingURL=13.582d4bc5f08c67655ce6.js.map