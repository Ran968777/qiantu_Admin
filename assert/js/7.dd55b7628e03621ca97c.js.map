{"version":3,"sources":["webpack:///assert/js/7.dd55b7628e03621ca97c.js","webpack:///./src/pages/emp/basic.vue?acdc","webpack:///./src/pages/emp/basic.vue?5117","webpack:///./src/pages/emp/basic.vue?ea27","webpack:///./src/pages/emp/basic.vue","webpack:///src/pages/emp/basic.vue","webpack:///./src/utils/utils.js"],"names":["webpackJsonp","+eY2","module","exports","__webpack_require__","push","i","+ljE","content","locals","Fd/v","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","model","value","callback","$$v","queryName","expression","on","queryByName","departmentId","_l","item","key","label","getEmpByDid","$event","addflag","ref","newForm","addRules","$set","dd","submitNewWorker","directives","name","rawName","tableData","addRowClass","computeGender","fmtDepartment","scopedSlots","_u","fn","scope","row","state","_s","getState","showUpdataDialog","currentpage","total","changedPage","dialogFormVisible","form","updateRules","updateInfo","staticRenderFns","esExports","gxUl","injectStyle","ssrContext","normalizeComponent","__vue_styles__","Component","izmw","__WEBPACK_IMPORTED_MODULE_0_src_utils_utils__","created","getDepartments","getTableData","data","nickName","mobile","gender","position","Address","tabel","loading","pagesize","options","url","departments","required","message","trigger","pattern","methods","_this","getRequest","then","res","current","records","val","$refs","updateWorker","validate","valid","console","log","code","$message","showClose","type","newWorker","Array","filter","length","currentPage","show","handleSizeChange","handleCurrentChange","rateType","filters","rateTypeToText","formatDate","components","oAV5","date","fmt","test","replace","RegExp","$1","getFullYear","substr","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero"],"mappings":"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","file":"assert/js/7.dd55b7628e03621ca97c.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ \"+eY2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.basic .el-table .warning-row{background-color:oldlace\\n}\\n.basic .recommend-tag{display:inline-block;margin:4px 0;margin-right:4px\\n}\\n.basic .recommend-tag:last-child{margin-right:0\\n}\\n.header{margin-bottom:6px;position:relative\\n}\\n.page{text-align:center;margin-top:10px\\n}\\n.header .right{display:inline-block;height:50px;width:400px\\n}\\n.header .right .el-input{width:60%\\n}\\n.header .left{display:inline-block;position:absolute;right:20px\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"C:/Users/14296/Desktop/qiantu_web/src/pages/emp/basic.vue\"],\"names\":[],\"mappings\":\";AACA,8BAA8B,wBAAwB;CACrD;AACD,sBAAsB,qBAAqB,aAAa,gBAAgB;CACvE;AACD,iCAAiC,cAAc;CAC9C;AACD,QAAQ,kBAAkB,iBAAiB;CAC1C;AACD,MAAM,kBAAkB,eAAe;CACtC;AACD,eAAe,qBAAqB,YAAY,WAAW;CAC1D;AACD,yBAAyB,SAAS;CACjC;AACD,cAAc,qBAAqB,kBAAkB,UAAU;CAC9D\",\"file\":\"basic.vue\",\"sourcesContent\":[\"\\n.basic .el-table .warning-row{background-color:oldlace\\n}\\n.basic .recommend-tag{display:inline-block;margin:4px 0;margin-right:4px\\n}\\n.basic .recommend-tag:last-child{margin-right:0\\n}\\n.header{margin-bottom:6px;position:relative\\n}\\n.page{text-align:center;margin-top:10px\\n}\\n.header .right{display:inline-block;height:50px;width:400px\\n}\\n.header .right .el-input{width:60%\\n}\\n.header .left{display:inline-block;position:absolute;right:20px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"+ljE\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"+eY2\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"b54d78e2\", content, true, {});\n\n/***/ }),\n\n/***/ \"Fd/v\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"basic\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"员工基本信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"right\"},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入要搜索的人员名字\",\"size\":\"small\"},model:{value:(_vm.queryName),callback:function ($$v) {_vm.queryName=$$v},expression:\"queryName\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.queryByName}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"left\"},[_c('span',[_vm._v(\"按部门搜索\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择部门\"},model:{value:(_vm.departmentId),callback:function ($$v) {_vm.departmentId=$$v},expression:\"departmentId\"}},_vm._l((_vm.departments),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getEmpByDid}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addflag=true}}},[_vm._v(\"添加新员工\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"modal-append-to-body\":false,\"visible\":_vm.addflag,\"title\":\"添加员工\"},on:{\"update:visible\":function($event){_vm.addflag=$event}}},[_c('el-form',{ref:\"newWorker\",attrs:{\"model\":_vm.newForm,\"rules\":_vm.addRules}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"nickName\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.newForm.nickName),callback:function ($$v) {_vm.$set(_vm.newForm, \"nickName\", $$v)},expression:\"newForm.nickName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.newForm.mobile),callback:function ($$v) {_vm.$set(_vm.newForm, \"mobile\", $$v)},expression:\"newForm.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"gender\"}},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.newForm.gender),callback:function ($$v) {_vm.$set(_vm.newForm, \"gender\", $$v)},expression:\"newForm.gender\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2},model:{value:(_vm.newForm.gender),callback:function ($$v) {_vm.$set(_vm.newForm, \"gender\", $$v)},expression:\"newForm.gender\"}},[_vm._v(\"女\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门\",\"prop\":\"departmentId\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.newForm.departmentId),callback:function ($$v) {_vm.$set(_vm.newForm, \"departmentId\", $$v)},expression:\"newForm.departmentId\"}},_vm._l((_vm.departments),function(dd){return _c('el-option',{key:dd.value,attrs:{\"label\":dd.label,\"value\":dd.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"职位\",\"prop\":\"position\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.newForm.position),callback:function ($$v) {_vm.$set(_vm.newForm, \"position\", $$v)},expression:\"newForm.position\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addflag = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitNewWorker('newWorker')}}},[_vm._v(\"确定添加\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-wrapper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.tableData,\"row-class-name\":_vm.addRowClass,\"border\":\"\",\"element-loading-text\":\"加载数据中\"}},[_c('el-table-column',{attrs:{\"label\":\"姓名\",\"prop\":\"nickName\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"formatter\":_vm.computeGender,\"label\":\"性别\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"formatter\":_vm.fmtDepartment,\"label\":\"部门\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"职位\",\"prop\":\"position\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"信用分\",\"prop\":\"integral\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"prop\":\"state\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.state === 1 ? 'success' : 'danger',\"disable-transitions\":\"\"}},[_vm._v(_vm._s(_vm.getState(scope.row.state)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"权限\",\"prop\":\"power\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.showUpdataDialog(scope.row)}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentpage,\"total\":_vm.total,\"background\":\"\",\"layout\":\"prev, pager, next\"},on:{\"current-change\":_vm.changedPage}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"fit\":false,\"modal-append-to-body\":false,\"visible\":_vm.dialogFormVisible,\"title\":\"修改员工信息\",\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"updateWorker\",attrs:{\"model\":_vm.form,\"rules\":_vm.updateRules}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"nickName\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.nickName),callback:function ($$v) {_vm.$set(_vm.form, \"nickName\", $$v)},expression:\"form.nickName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.mobile),callback:function ($$v) {_vm.$set(_vm.form, \"mobile\", $$v)},expression:\"form.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"gender\"}},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.form.gender),callback:function ($$v) {_vm.$set(_vm.form, \"gender\", $$v)},expression:\"form.gender\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2},model:{value:(_vm.form.gender),callback:function ($$v) {_vm.$set(_vm.form, \"gender\", $$v)},expression:\"form.gender\"}},[_vm._v(\"女\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"fixed\":\"left\",\"label\":\"部门\",\"prop\":\"departmentId\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.form.departmentId),callback:function ($$v) {_vm.$set(_vm.form, \"departmentId\", $$v)},expression:\"form.departmentId\"}},_vm._l((_vm.departments),function(dd){return _c('el-option',{key:dd.value,attrs:{\"label\":dd.label,\"value\":dd.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"职位\",\"prop\":\"position\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.position),callback:function ($$v) {_vm.$set(_vm.form, \"position\", $$v)},expression:\"form.position\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"state\"}},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.form.state),callback:function ($$v) {_vm.$set(_vm.form, \"state\", $$v)},expression:\"form.state\"}},[_vm._v(\"正常\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2},model:{value:(_vm.form.state),callback:function ($$v) {_vm.$set(_vm.form, \"state\", $$v)},expression:\"form.state\"}},[_vm._v(\"禁用\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"信用分\"}},[_c('el-popover',{attrs:{\"content\":\"信用分请到信用分管理里修改\",\"placement\":\"top-start\",\"title\":\"提示\",\"trigger\":\"hover\",\"width\":\"200\"}},[_c('el-input',{attrs:{\"slot\":\"reference\",\"disabled\":true,\"autocomplete\":\"off\"},slot:\"reference\",model:{value:(_vm.form.integral),callback:function ($$v) {_vm.$set(_vm.form, \"integral\", $$v)},expression:\"form.integral\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updateInfo('updateWorker')}}},[_vm._v(\"确定更新\")])],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"gxUl\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_basic_vue__ = __webpack_require__(\"izmw\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_276a9c89_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_basic_vue__ = __webpack_require__(\"Fd/v\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"+ljE\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_basic_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_276a9c89_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_basic_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"izmw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_src_utils_utils__ = __webpack_require__(\"oAV5\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar POSITIVE = 0;\nvar NEGATIVE = 1;\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  created: function created() {\n    this.getDepartments();\n    // 用户信息\n    this.getTableData();\n  },\n  data: function data() {\n    return {\n      form: {\n        nickName: '',\n        mobile: '',\n        gender: '',\n        departmentId: '',\n        position: '',\n        state: ''\n      },\n      tableData: null,\n      Address: this.tabel,\n      loading: false,\n      pagesize: 10,\n      currentpage: 1,\n      total: null,\n      options: null,\n      value: '',\n      label: '',\n      departmentId: null,\n      url: '',\n      newForm: {\n        nickName: '',\n        mobile: '',\n        gender: '',\n        departmentId: '',\n        position: ''\n      },\n      addflag: false,\n      dialogFormVisible: false,\n      departments: [],\n      queryName: '',\n      addRules: {\n        nickName: [{ required: true, message: '必填:姓名', trigger: 'blur' }],\n        gender: [{ required: true, message: '必填:性别', trigger: 'blur' }],\n        mobile: [{ pattern: /^[1]([3-9])[0-9]{9}$/, required: true, message: '请检查手机号码', trigger: 'blur' }],\n        departmentId: [{ required: true, message: '必选:部门', trigger: 'blur' }],\n        position: [{\n          required: true,\n          message: '必填:职位信息',\n          trigger: 'blur' }]\n      },\n      updateRules: {\n        nickName: [{ required: true, message: '必填:姓名', trigger: 'blur' }],\n        gender: [{ required: true, message: '必填:性别', trigger: 'blur' }],\n        mobile: [{ pattern: /^[1]([3-9])[0-9]{9}$/, required: true, message: '请检查手机号码', trigger: 'blur' }],\n        departmentId: [{ required: true, message: '必选:部门', trigger: 'blur' }],\n        position: [{ required: true, message: '必填:职位信息', trigger: 'blur' }],\n        state: [{ required: true, message: '必填:状态', trigger: 'blur' }]\n      }\n\n    };\n  },\n\n  methods: {\n    // 模糊搜索(按员工姓名)\n    queryByName: function queryByName() {\n      var _this = this;\n      _this.currentpage = 1;\n      if (this.queryName === '') {\n        this.getTableData();\n      } else {\n        this.getRequest('/empByKey?nickName=' + _this.queryName + '&pageNum=' + _this.currentpage).then(function (res) {\n          _this.currentpage = res.data.current;\n          _this.tableData = res.data.records;\n          _this.total = res.data.total;\n        });\n      }\n    },\n\n    // 格式化部门状态\n    getState: function getState(val) {\n      return val === 1 ? '正常' : '禁用';\n    },\n\n    // 更新信息至服务器\n    updateInfo: function updateInfo(updateWorker) {\n      var _this2 = this;\n\n      this.$refs[updateWorker].validate(function (valid) {\n        if (valid) {\n          var _this = _this2;\n          _this2.postRequest(_this2.url + '/updateEmp', _this2.form).then(function (res) {\n            if (res.data.code === 0) {\n              _this.$message({\n                showClose: true,\n                message: '修改成功',\n                type: 'success'\n              });\n              _this.dialogFormVisible = false;\n              _this.getTableData();\n            } else {\n              _this.$message({\n                showClose: true,\n                message: '修改失败',\n                type: 'error'\n              });\n            }\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n\n    // 显示修改员工信息的dialog\n    showUpdataDialog: function showUpdataDialog(val) {\n      this.dialogFormVisible = true;\n      this.form = val;\n    },\n\n    // 添加新员工,提交员工的信息\n    submitNewWorker: function submitNewWorker(newWorker) {\n      var _this3 = this;\n\n      this.$refs[newWorker].validate(function (valid) {\n        if (valid) {\n          var _this = _this3;\n          _this3.postRequest(_this3.url + '/addEmp', _this3.newForm).then(function (res) {\n            if (res.data.code === 0) {\n              _this.$message({\n                showClose: true,\n                message: '添加成功',\n                type: 'success'\n              });\n              _this.addflag = false;\n              _this.newForm = {};\n              _this.getTableData();\n            } else {\n              _this.$message({\n                showClose: true,\n                message: '添加失败',\n                type: 'error'\n              });\n            }\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    fmtDepartment: function fmtDepartment(row) {\n      if (!(this.departments instanceof Array)) {\n        return;\n      }\n      var data = this.departments.filter(function (item) {\n        if (row.departmentId === item.value) {\n          return item;\n        }\n      });\n      if (data.length !== 0) {\n        return data[0].label;\n      } else {\n        return '暂无';\n      }\n    },\n    computeGender: function computeGender(row) {\n      // 格式化性别\n      return ['未知', '男', '女'][row.gender];\n    },\n    changedPage: function changedPage(currentPage) {\n      var _this = this;\n      var url = '/emp?pageNum=' + currentPage;\n      if (this.departmentId) {\n        url += '&did=' + _this.departmentId;\n      }\n      this.getRequest(url).then(function (res) {\n        _this.currentpage = res.data.current;\n        _this.tableData = res.data.records;\n        _this.total = res.data.total;\n      });\n    },\n\n    // 获取员工列表\n    getTableData: function getTableData() {\n      var _this = this;\n      this.getRequest('/emp?pageNum=' + _this.currentpage).then(function (res) {\n        _this.currentpage = res.data.current;\n        _this.tableData = res.data.records;\n        _this.total = res.data.total;\n      });\n    },\n\n    // 部门的select下拉选择框\n    getDepartments: function getDepartments() {\n      var _this4 = this;\n\n      var _this = this;\n      this.getRequest('/department/all').then(function (res) {\n        _this4.departments = res.data;\n      }).catch(function () {\n        _this.$message({\n          showClose: true,\n          message: '获取部门列表失败',\n          type: 'error'\n        });\n      });\n    },\n    getEmpByDid: function getEmpByDid() {\n      var _this = this;\n      this.getRequest('/emp?did=' + _this.departmentId).then(function (res) {\n        _this.currentpage = res.data.currentpage;\n        _this.tableData = res.data.records;\n        _this.total = res.data.total;\n      });\n    },\n    show: function show(scope) {},\n    handleSizeChange: function handleSizeChange(value) {\n      this.pagesize = value;\n      this.getTableData();\n    },\n    handleCurrentChange: function handleCurrentChange(value) {\n      this.currentpage = value;\n      this.getTableData();\n    },\n    addRowClass: function addRowClass(_ref) {\n      var row = _ref.row,\n          rowIndex = _ref.rowIndex;\n\n      if (row.rateType === NEGATIVE) {\n        return 'warning-row';\n      }\n    }\n  },\n\n  filters: {\n    rateTypeToText: function rateTypeToText(rateType) {\n      return rateType === POSITIVE ? '满意' : '不满意';\n    },\n    formatDate: function formatDate(time) {\n      var date = new Date(time);\n      return Object(__WEBPACK_IMPORTED_MODULE_0_src_utils_utils__[\"a\" /* formatDate */])(date, 'yyyy-MM-dd hh:mm:ss');\n    }\n  },\n  components: {}\n\n});\n\n/***/ }),\n\n/***/ \"oAV5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = formatDate;\n/**\r\n * @Project Name: vue-admin\r\n * @Author: luichooy\r\n * @Date: 2017-11-20 10:19\r\n * @Email: luichooy@163.com\r\n * @Idea: WebStorm\r\n */\n\nfunction formatDate(date, fmt) {\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  }\n  var o = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds()\n  };\n  for (var k in o) {\n    if (new RegExp('(' + k + ')').test(fmt)) {\n      var str = o[k] + '';\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\n    }\n  }\n  return fmt;\n};\n\nfunction padLeftZero(str) {\n  return ('00' + str).substr(str.length);\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// assert/js/7.dd55b7628e03621ca97c.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.basic .el-table .warning-row{background-color:oldlace\\n}\\n.basic .recommend-tag{display:inline-block;margin:4px 0;margin-right:4px\\n}\\n.basic .recommend-tag:last-child{margin-right:0\\n}\\n.header{margin-bottom:6px;position:relative\\n}\\n.page{text-align:center;margin-top:10px\\n}\\n.header .right{display:inline-block;height:50px;width:400px\\n}\\n.header .right .el-input{width:60%\\n}\\n.header .left{display:inline-block;position:absolute;right:20px\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"C:/Users/14296/Desktop/qiantu_web/src/pages/emp/basic.vue\"],\"names\":[],\"mappings\":\";AACA,8BAA8B,wBAAwB;CACrD;AACD,sBAAsB,qBAAqB,aAAa,gBAAgB;CACvE;AACD,iCAAiC,cAAc;CAC9C;AACD,QAAQ,kBAAkB,iBAAiB;CAC1C;AACD,MAAM,kBAAkB,eAAe;CACtC;AACD,eAAe,qBAAqB,YAAY,WAAW;CAC1D;AACD,yBAAyB,SAAS;CACjC;AACD,cAAc,qBAAqB,kBAAkB,UAAU;CAC9D\",\"file\":\"basic.vue\",\"sourcesContent\":[\"\\n.basic .el-table .warning-row{background-color:oldlace\\n}\\n.basic .recommend-tag{display:inline-block;margin:4px 0;margin-right:4px\\n}\\n.basic .recommend-tag:last-child{margin-right:0\\n}\\n.header{margin-bottom:6px;position:relative\\n}\\n.page{text-align:center;margin-top:10px\\n}\\n.header .right{display:inline-block;height:50px;width:400px\\n}\\n.header .right .el-input{width:60%\\n}\\n.header .left{display:inline-block;position:absolute;right:20px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-276a9c89\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/emp/basic.vue\n// module id = +eY2\n// module chunks = 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-276a9c89\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./basic.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"b54d78e2\", content, true, {});\n\n\n// WEBPACK FOOTER //\n// \"}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-276a9c89\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/emp/basic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"basic\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"员工基本信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"right\"},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入要搜索的人员名字\",\"size\":\"small\"},model:{value:(_vm.queryName),callback:function ($$v) {_vm.queryName=$$v},expression:\"queryName\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.queryByName}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"left\"},[_c('span',[_vm._v(\"按部门搜索\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择部门\"},model:{value:(_vm.departmentId),callback:function ($$v) {_vm.departmentId=$$v},expression:\"departmentId\"}},_vm._l((_vm.departments),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getEmpByDid}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addflag=true}}},[_vm._v(\"添加新员工\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"modal-append-to-body\":false,\"visible\":_vm.addflag,\"title\":\"添加员工\"},on:{\"update:visible\":function($event){_vm.addflag=$event}}},[_c('el-form',{ref:\"newWorker\",attrs:{\"model\":_vm.newForm,\"rules\":_vm.addRules}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"nickName\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.newForm.nickName),callback:function ($$v) {_vm.$set(_vm.newForm, \"nickName\", $$v)},expression:\"newForm.nickName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.newForm.mobile),callback:function ($$v) {_vm.$set(_vm.newForm, \"mobile\", $$v)},expression:\"newForm.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"gender\"}},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.newForm.gender),callback:function ($$v) {_vm.$set(_vm.newForm, \"gender\", $$v)},expression:\"newForm.gender\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2},model:{value:(_vm.newForm.gender),callback:function ($$v) {_vm.$set(_vm.newForm, \"gender\", $$v)},expression:\"newForm.gender\"}},[_vm._v(\"女\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门\",\"prop\":\"departmentId\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.newForm.departmentId),callback:function ($$v) {_vm.$set(_vm.newForm, \"departmentId\", $$v)},expression:\"newForm.departmentId\"}},_vm._l((_vm.departments),function(dd){return _c('el-option',{key:dd.value,attrs:{\"label\":dd.label,\"value\":dd.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"职位\",\"prop\":\"position\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.newForm.position),callback:function ($$v) {_vm.$set(_vm.newForm, \"position\", $$v)},expression:\"newForm.position\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addflag = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitNewWorker('newWorker')}}},[_vm._v(\"确定添加\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-wrapper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.tableData,\"row-class-name\":_vm.addRowClass,\"border\":\"\",\"element-loading-text\":\"加载数据中\"}},[_c('el-table-column',{attrs:{\"label\":\"姓名\",\"prop\":\"nickName\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"formatter\":_vm.computeGender,\"label\":\"性别\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"formatter\":_vm.fmtDepartment,\"label\":\"部门\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"职位\",\"prop\":\"position\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"信用分\",\"prop\":\"integral\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"prop\":\"state\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.state === 1 ? 'success' : 'danger',\"disable-transitions\":\"\"}},[_vm._v(_vm._s(_vm.getState(scope.row.state)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"权限\",\"prop\":\"power\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.showUpdataDialog(scope.row)}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentpage,\"total\":_vm.total,\"background\":\"\",\"layout\":\"prev, pager, next\"},on:{\"current-change\":_vm.changedPage}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"fit\":false,\"modal-append-to-body\":false,\"visible\":_vm.dialogFormVisible,\"title\":\"修改员工信息\",\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"updateWorker\",attrs:{\"model\":_vm.form,\"rules\":_vm.updateRules}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"nickName\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.nickName),callback:function ($$v) {_vm.$set(_vm.form, \"nickName\", $$v)},expression:\"form.nickName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.mobile),callback:function ($$v) {_vm.$set(_vm.form, \"mobile\", $$v)},expression:\"form.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"gender\"}},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.form.gender),callback:function ($$v) {_vm.$set(_vm.form, \"gender\", $$v)},expression:\"form.gender\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2},model:{value:(_vm.form.gender),callback:function ($$v) {_vm.$set(_vm.form, \"gender\", $$v)},expression:\"form.gender\"}},[_vm._v(\"女\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"fixed\":\"left\",\"label\":\"部门\",\"prop\":\"departmentId\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.form.departmentId),callback:function ($$v) {_vm.$set(_vm.form, \"departmentId\", $$v)},expression:\"form.departmentId\"}},_vm._l((_vm.departments),function(dd){return _c('el-option',{key:dd.value,attrs:{\"label\":dd.label,\"value\":dd.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"职位\",\"prop\":\"position\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.position),callback:function ($$v) {_vm.$set(_vm.form, \"position\", $$v)},expression:\"form.position\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"state\"}},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.form.state),callback:function ($$v) {_vm.$set(_vm.form, \"state\", $$v)},expression:\"form.state\"}},[_vm._v(\"正常\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2},model:{value:(_vm.form.state),callback:function ($$v) {_vm.$set(_vm.form, \"state\", $$v)},expression:\"form.state\"}},[_vm._v(\"禁用\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"信用分\"}},[_c('el-popover',{attrs:{\"content\":\"信用分请到信用分管理里修改\",\"placement\":\"top-start\",\"title\":\"提示\",\"trigger\":\"hover\",\"width\":\"200\"}},[_c('el-input',{attrs:{\"slot\":\"reference\",\"disabled\":true,\"autocomplete\":\"off\"},slot:\"reference\",model:{value:(_vm.form.integral),callback:function ($$v) {_vm.$set(_vm.form, \"integral\", $$v)},expression:\"form.integral\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updateInfo('updateWorker')}}},[_vm._v(\"确定更新\")])],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-276a9c89\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/emp/basic.vue\n// module id = Fd/v\n// module chunks = 7","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-276a9c89\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./basic.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./basic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./basic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-276a9c89\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./basic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/emp/basic.vue\n// module id = gxUl\n// module chunks = 7","<template>\r\n  <div class=\"basic\">\r\n    <el-row>\r\n      <el-col :span=\"24\">\r\n        <el-card>\r\n          <div slot=\"header\">员工基本信息</div>\r\n          <div class=\"header\">\r\n            <div class=\"right\">\r\n              <el-input clearable placeholder=\"请输入要搜索的人员名字\" size=\"small\" v-model=\"queryName\"></el-input>\r\n              <el-button @click=\"queryByName\" type=\"primary\">搜索</el-button>\r\n            </div>\r\n\r\n            <div class=\"left\">\r\n              <span>按部门搜索</span>\r\n              <el-select filterable placeholder=\"请选择部门\" v-model=\"departmentId\">\r\n                <el-option\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                  v-for=\"item in departments\"\r\n                ></el-option>\r\n              </el-select>\r\n              <el-button @click=\"getEmpByDid\" type=\"primary\">搜索</el-button>\r\n              <el-button @click=\"addflag=true\" type=\"primary\">添加新员工</el-button>\r\n            </div>\r\n          </div>\r\n\r\n          <!--添加员工的dialog-->\r\n          <el-dialog :modal-append-to-body=\"false\" :visible.sync=\"addflag\" title=\"添加员工\">\r\n            <el-form :model=\"newForm\" :rules=\"addRules\" ref=\"newWorker\">\r\n              <el-form-item label=\"姓名\" prop=\"nickName\">\r\n                <el-input autocomplete=\"off\" v-model=\"newForm.nickName\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"手机\" prop=\"mobile\">\r\n                <el-input autocomplete=\"off\" v-model=\"newForm.mobile\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"性别\" prop=\"gender\">\r\n                <el-radio :label=\"1\" v-model=\"newForm.gender\">男</el-radio>\r\n                <el-radio :label=\"2\" v-model=\"newForm.gender\">女</el-radio>\r\n              </el-form-item>\r\n              <el-form-item label=\"部门\" prop=\"departmentId\">\r\n                <el-select filterable placeholder=\"请选择\" v-model=\"newForm.departmentId\">\r\n                  <el-option\r\n                    :key=\"dd.value\"\r\n                    :label=\"dd.label\"\r\n                    :value=\"dd.value\"\r\n                    v-for=\"dd in departments\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item label=\"职位\" prop=\"position\">\r\n                <el-input autocomplete=\"off\" v-model=\"newForm.position\"></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n            <div class=\"dialog-footer\" slot=\"footer\">\r\n              <el-button @click=\"addflag = false\">取 消</el-button>\r\n              <el-button @click=\"submitNewWorker('newWorker')\" type=\"primary\">确定添加</el-button>\r\n            </div>\r\n          </el-dialog>\r\n\r\n          <div class=\"table-wrapper\">\r\n            <el-table\r\n              :data=\"tableData\"\r\n              :row-class-name=\"addRowClass\"\r\n              border\r\n              element-loading-text=\"加载数据中\"\r\n              v-loading=\"loading\"\r\n            >\r\n              <el-table-column label=\"姓名\" prop=\"nickName\" width=\"100\"></el-table-column>\r\n              <el-table-column label=\"手机号\" prop=\"mobile\" width=\"180\"></el-table-column>\r\n              <el-table-column :formatter=\"computeGender\" label=\"性别\"></el-table-column>\r\n              <el-table-column :formatter=\"fmtDepartment\" label=\"部门\"></el-table-column>\r\n              <el-table-column label=\"职位\" prop=\"position\"></el-table-column>\r\n              <el-table-column label=\"信用分\" prop=\"integral\"></el-table-column>\r\n              <el-table-column label=\"状态\" prop=\"state\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-tag\r\n                    :type=\"scope.row.state === 1 ? 'success' : 'danger'\"\r\n                    disable-transitions\r\n                  >{{getState(scope.row.state)}}</el-tag>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"权限\" prop=\"power\"></el-table-column>\r\n              <el-table-column fixed=\"right\" label=\"操作\" width=\"180\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button @click=\"showUpdataDialog(scope.row)\" size=\"small\" type=\"text\">编辑</el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <!-- 分页插件 -->\r\n            <div class=\"page\">\r\n              <el-pagination\r\n                :current-page=\"currentpage\"\r\n                :total=\"total\"\r\n                @current-change=\"changedPage\"\r\n                background\r\n                layout=\"prev, pager, next\"\r\n              ></el-pagination>\r\n\r\n              <!--修改员工信息的dialog-->\r\n              <el-dialog\r\n                :fit=\"false\"\r\n                :modal-append-to-body=\"false\"\r\n                :visible.sync=\"dialogFormVisible\"\r\n                title=\"修改员工信息\"\r\n                width=\"30%\"\r\n              >\r\n                <el-form :model=\"form\" :rules=\"updateRules\" ref=\"updateWorker\">\r\n                  <el-form-item label=\"姓名\" prop=\"nickName\">\r\n                    <el-input autocomplete=\"off\" v-model=\"form.nickName\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"手机\" prop=\"mobile\">\r\n                    <el-input autocomplete=\"off\" v-model=\"form.mobile\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"性别\" prop=\"gender\">\r\n                    <el-radio :label=\"1\" v-model=\"form.gender\">男</el-radio>\r\n                    <el-radio :label=\"2\" v-model=\"form.gender\">女</el-radio>\r\n                  </el-form-item>\r\n                  <el-form-item fixed=\"left\" label=\"部门\" prop=\"departmentId\">\r\n                    <el-select filterable placeholder=\"请选择\" v-model=\"form.departmentId\">\r\n                      <el-option\r\n                        :key=\"dd.value\"\r\n                        :label=\"dd.label\"\r\n                        :value=\"dd.value\"\r\n                        v-for=\"dd in departments\"\r\n                      ></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"职位\" prop=\"position\">\r\n                    <el-input autocomplete=\"off\" v-model=\"form.position\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"状态\" prop=\"state\">\r\n                    <el-radio :label=\"1\" v-model=\"form.state\">正常</el-radio>\r\n                    <el-radio :label=\"2\" v-model=\"form.state\">禁用</el-radio>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"信用分\">\r\n                    <el-popover\r\n                      content=\"信用分请到信用分管理里修改\"\r\n                      placement=\"top-start\"\r\n                      title=\"提示\"\r\n                      trigger=\"hover\"\r\n                      width=\"200\"\r\n                    >\r\n                      <el-input\r\n                        :disabled=\"true\"\r\n                        autocomplete=\"off\"\r\n                        slot=\"reference\"\r\n                        v-model=\"form.integral\"\r\n                      ></el-input>\r\n                    </el-popover>\r\n                  </el-form-item>\r\n                </el-form>\r\n                <div class=\"dialog-footer\" slot=\"footer\">\r\n                  <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                  <el-button @click=\"updateInfo('updateWorker')\" type=\"primary\">确定更新</el-button>\r\n                </div>\r\n              </el-dialog>\r\n              <!-- 员工修改dialog结束 -->\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { formatDate } from 'src/utils/utils';\r\n\r\nconst POSITIVE = 0;\r\nconst NEGATIVE = 1;\r\nexport default {\r\n  created () {\r\n    this.getDepartments();\r\n    // 用户信息\r\n    this.getTableData();\r\n  },\r\n  data () {\r\n    return {\r\n      form: {\r\n        nickName: '',\r\n        mobile: '',\r\n        gender: '',\r\n        departmentId: '',\r\n        position: '',\r\n        state: ''\r\n      },\r\n      tableData: null,\r\n      Address: this.tabel,\r\n      loading: false,\r\n      pagesize: 10,\r\n      currentpage: 1,\r\n      total: null,\r\n      options: null,\r\n      value: '',\r\n      label: '',\r\n      departmentId: null,\r\n      url: '',\r\n      newForm: {\r\n        nickName: '',\r\n        mobile: '',\r\n        gender: '',\r\n        departmentId: '',\r\n        position: ''\r\n      },\r\n      addflag: false,\r\n      dialogFormVisible: false,\r\n      departments: [],\r\n      queryName: '',\r\n      addRules: {\r\n        nickName: [{ required: true, message: '必填:姓名', trigger: 'blur' }],\r\n        gender: [{ required: true, message: '必填:性别', trigger: 'blur' }],\r\n        mobile: [{ pattern: /^[1]([3-9])[0-9]{9}$/, required: true, message: '请检查手机号码', trigger: 'blur' }],\r\n        departmentId: [{ required: true, message: '必选:部门', trigger: 'blur' }],\r\n        position: [{\r\n          required: true,\r\n          message: '必填:职位信息',\r\n          trigger: 'blur' }]\r\n      },\r\n      updateRules: {\r\n        nickName: [{ required: true, message: '必填:姓名', trigger: 'blur' }],\r\n        gender: [{ required: true, message: '必填:性别', trigger: 'blur' }],\r\n        mobile: [{ pattern: /^[1]([3-9])[0-9]{9}$/, required: true, message: '请检查手机号码', trigger: 'blur' }],\r\n        departmentId: [{ required: true, message: '必选:部门', trigger: 'blur' }],\r\n        position: [{ required: true, message: '必填:职位信息', trigger: 'blur' }],\r\n        state: [{ required: true, message: '必填:状态', trigger: 'blur' }]\r\n      }\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    // 模糊搜索(按员工姓名)\r\n    queryByName () {\r\n      var _this = this;\r\n      _this.currentpage = 1;\r\n      if (this.queryName === '') {\r\n        this.getTableData();\r\n      } else {\r\n        this.getRequest('/empByKey?nickName=' + _this.queryName + '&pageNum=' + _this.currentpage).then(res => {\r\n          _this.currentpage = res.data.current;\r\n          _this.tableData = res.data.records\r\n          _this.total = res.data.total;\r\n        })\r\n      }\r\n    },\r\n    // 格式化部门状态\r\n    getState (val) {\r\n      return val === 1 ? '正常' : '禁用';\r\n    },\r\n    // 更新信息至服务器\r\n    updateInfo (updateWorker) {\r\n      this.$refs[updateWorker].validate((valid) => {\r\n        if (valid) {\r\n          var _this = this;\r\n          this.postRequest(this.url + '/updateEmp', this.form).then(res => {\r\n            if (res.data.code === 0) {\r\n              _this.$message({\r\n                showClose: true,\r\n                message: '修改成功',\r\n                type: 'success'\r\n              });\r\n              _this.dialogFormVisible = false;\r\n              _this.getTableData();\r\n            } else {\r\n              _this.$message({\r\n                showClose: true,\r\n                message: '修改失败',\r\n                type: 'error'\r\n              });\r\n            }\r\n          })\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 显示修改员工信息的dialog\r\n    showUpdataDialog (val) {\r\n      this.dialogFormVisible = true;\r\n      this.form = val;\r\n    },\r\n    // 添加新员工,提交员工的信息\r\n    submitNewWorker (newWorker) {\r\n      this.$refs[newWorker].validate((valid) => {\r\n        if (valid) {\r\n          var _this = this;\r\n          this.postRequest(this.url + '/addEmp', this.newForm).then(res => {\r\n            if (res.data.code === 0) {\r\n              _this.$message({\r\n                showClose: true,\r\n                message: '添加成功',\r\n                type: 'success'\r\n              });\r\n              _this.addflag = false;\r\n              _this.newForm = {};\r\n              _this.getTableData();\r\n            } else {\r\n              _this.$message({\r\n                showClose: true,\r\n                message: '添加失败',\r\n                type: 'error'\r\n              });\r\n            }\r\n          })\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    fmtDepartment (row) {\r\n      if (!(this.departments instanceof Array)) {\r\n        return;\r\n      }\r\n      var data = this.departments.filter((item) => {\r\n        if (row.departmentId === item.value) {\r\n          return item;\r\n        }\r\n      })\r\n      if (data.length !== 0) {\r\n        return data[0].label;\r\n      } else {\r\n        return '暂无';\r\n      }\r\n    },\r\n    computeGender (row) {\r\n      // 格式化性别\r\n      return ['未知', '男', '女'][row.gender]\r\n    },\r\n    changedPage (currentPage) {\r\n      var _this = this;\r\n      var url = '/emp?pageNum=' + currentPage;\r\n      if (this.departmentId) {\r\n        url += '&did=' + _this.departmentId;\r\n      }\r\n      this.getRequest(url).then(res => {\r\n        _this.currentpage = res.data.current;\r\n        _this.tableData = res.data.records\r\n        _this.total = res.data.total;\r\n      });\r\n    },\r\n    // 获取员工列表\r\n    getTableData () {\r\n      var _this = this;\r\n      this.getRequest('/emp?pageNum=' + _this.currentpage).then(res => {\r\n        _this.currentpage = res.data.current;\r\n        _this.tableData = res.data.records\r\n        _this.total = res.data.total;\r\n      });\r\n    },\r\n    // 部门的select下拉选择框\r\n    getDepartments: function () {\r\n      var _this = this;\r\n      this.getRequest('/department/all').then(res => {\r\n        this.departments = res.data;\r\n      }).catch(function () {\r\n        _this.$message({\r\n          showClose: true,\r\n          message: '获取部门列表失败',\r\n          type: 'error'\r\n        });\r\n      })\r\n    },\r\n    getEmpByDid () {\r\n      var _this = this;\r\n      this.getRequest('/emp?did=' + _this.departmentId).then(res => {\r\n        _this.currentpage = res.data.currentpage;\r\n        _this.tableData = res.data.records\r\n        _this.total = res.data.total;\r\n      });\r\n    },\r\n    show (scope) {\r\n    },\r\n\r\n    handleSizeChange (value) {\r\n      this.pagesize = value;\r\n      this.getTableData();\r\n    },\r\n\r\n    handleCurrentChange (value) {\r\n      this.currentpage = value;\r\n      this.getTableData();\r\n    },\r\n    addRowClass ({ row, rowIndex }) {\r\n      if (row.rateType === NEGATIVE) {\r\n        return 'warning-row';\r\n      }\r\n    }\r\n  },\r\n\r\n  filters: {\r\n    rateTypeToText (rateType) {\r\n      return rateType === POSITIVE ? '满意' : '不满意';\r\n    },\r\n    formatDate (time) {\r\n      let date = new Date(time);\r\n      return formatDate(date, 'yyyy-MM-dd hh:mm:ss');\r\n    }\r\n  },\r\n  components: {\r\n  }\r\n\r\n};\r\n\r\n\r\n\r\n</script>\r\n\r\n<style lang='scss'>\r\n.basic {\r\n  .el-table {\r\n    .warning-row {\r\n      background-color: oldlace;\r\n    }\r\n  }\r\n\r\n  .recommend-tag {\r\n    display: inline-block;\r\n    margin: 4px 0;\r\n    margin-right: 4px;\r\n    &:last-child {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n}\r\n\r\n.header {\r\n  margin-bottom: 6px;\r\n  // height: 50px;\r\n  position: relative;\r\n}\r\n\r\n.page {\r\n  // position: absolute;\r\n  // bottom: -5px;\r\n  // left: 600px;\r\n  text-align: center;\r\n  margin-top: 10px;\r\n}\r\n.header .right {\r\n  display: inline-block;\r\n  height: 50px;\r\n  width: 400px;\r\n}\r\n.header .right .el-input {\r\n  width: 60%;\r\n}\r\n\r\n.header .left {\r\n  display: inline-block;\r\n  position: absolute;\r\n  right: 20px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/emp/basic.vue","/**\r\n * @Project Name: vue-admin\r\n * @Author: luichooy\r\n * @Date: 2017-11-20 10:19\r\n * @Email: luichooy@163.com\r\n * @Idea: WebStorm\r\n */\r\n\r\nexport function formatDate (date, fmt) {\r\n  if (/(y+)/.test(fmt)) {\r\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n  }\r\n  const o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds()\r\n  };\r\n  for (let k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      let str = o[k] + '';\r\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : padLeftZero(str));\r\n    }\r\n  }\r\n  return fmt;\r\n};\r\n\r\nfunction padLeftZero (str) {\r\n  return ('00' + str).substr(str.length);\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js"],"sourceRoot":""}